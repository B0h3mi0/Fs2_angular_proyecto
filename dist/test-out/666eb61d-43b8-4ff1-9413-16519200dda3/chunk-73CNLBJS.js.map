{
  "version": 3,
  "sources": ["angular:jit:template:src\\app\\pages\\login-form\\login-form.html", "angular:jit:style:src\\app\\pages\\login-form\\login-form.scss", "src/app/pages/login-form/login-form.ts"],
  "sourcesContent": ["<div  class=\"row align-items-center justify-content-center\">\r\n\r\n        <!-- Carrusel -->\r\n    <div class=\"col-12 col-md-6 mb-4 mb-md-0\">\r\n        <div id=\"carouselLogin\" class=\"carousel slide carrusel-contenedor\" data-bs-ride=\"carousel\">\r\n        <div class=\"carousel-inner\">\r\n            <div class=\"carousel-item active\">\r\n            <img src=\"images/registro.jpg\" class=\"d-block w-100 carrusel-imagen\" alt=\"...\" />\r\n            </div>\r\n            <div class=\"carousel-item\">\r\n            <img src=\"images/juegos.jpg\" class=\"d-block w-100 carrusel-imagen\" alt=\"...\" />\r\n            </div>\r\n            <div class=\"carousel-item\">\r\n            <img src=\"images/rol_juego.jpg\" class=\"d-block w-100 carrusel-imagen\" alt=\"...\" />\r\n            </div>\r\n        </div>\r\n        </div>\r\n    </div>\r\n\r\n    <!-- Formulario de inicio de sesi\u00F3n -->\r\n    <div class=\"formulario col-12 col-md-6\">\r\n        <h2 class=\"mb-4 text-success\">Iniciar Sesi\u00F3n</h2>\r\n        <div aria-live=\"polite\" aria-atomic=\"true\" class=\"position-relative\">\r\n            <div class=\"toast-container position-fixed top-0 end-0 p-3\" id=\"toast-container\"></div>\r\n        </div>\r\n        <form [formGroup]=\"loginForm\" (ngSubmit)=\"onSubmit()\" class=\"needs-validation\" novalidate>\r\n\r\n            <div class=\"form-group mb-3\">\r\n                <input formControlName=\"emailOrUsername\"  type=\"text\" id=\"email\" class=\"form-control\" required />\r\n                <label class=\"form-label\" for=\"email\">Nombre de usuario o correo:</label>\r\n                <div class=\"invalid-feedback\">Por favor, introduce tu correo electr\u00F3nico o usuario.</div>\r\n            </div>\r\n\r\n            <div class=\"form-group mb-3\">\r\n                <input type=\"password\" formControlName=\"password\" id=\"pwd\"  class=\"form-control\" required />\r\n                <label for=\"pwd\" class=\"form-label\">Contrase\u00F1a:</label>\r\n                <div class=\"invalid-feedback\">Por favor, introduce tu contrase\u00F1a.</div>\r\n                <p>\u00BFNo recuerdas tu clave? <a routerLink=\"/recupera-pass\" class=\"text-decoration-none text-success fw-bold\">Recuperar</a></p>\r\n            </div>\r\n\r\n            <div id=\"errores\" class=\"text-danger mb-3\"></div>\r\n\r\n            <div class=\"mb-3 form-check\">\r\n                <input type=\"checkbox\" class=\"form-check-input\" id=\"recordar\" />\r\n                <label class=\"form-check-label\" for=\"recordar\">Recordarme</label>\r\n            </div>\r\n\r\n            <button type=\"submit\" class=\"btn btn-submit btn-success w-100\">Ingresar</button>\r\n        </form>\r\n\r\n        <div class=\"mt-3\">\r\n            <p>\u00BFNo tienes cuenta? <a (click)=\"navigateToRegister()\" class=\"text-decoration-none text-success fw-bold\">Registrate</a></p>\r\n        </div>\r\n    </div>\r\n</div>\r\n\r\n", "@charset \"UTF-8\";\n@import \"https://fonts.googleapis.com/css2?family=Ubuntu:ital,wght@0,300;0,400;0,500;0,700;1,300;1,400;1,500;1,700&display=swap\";\n\n/* src/app/pages/login-form/login-form.scss */\n:root {\n  --clr-blue:#05668D;\n  --clr-ligth_blue:#427AA1;\n  --clr-white:#EBF2FA;\n  --clr-green:#679436;\n  --clr-ligth_green:#A5BE00;\n}\n* {\n  margin: 0;\n  padding: 0;\n  box-sizing: border-box;\n  font-family: \"Ubuntu\", sans-serif;\n}\nh1,\nh2,\nh3,\nh4,\nh5,\nh6,\np,\na,\ninput,\ntextarea,\nul {\n  margin: 0;\n  padding: 0;\n}\n.carrusel-contenedor {\n  width: 100%;\n  height: 400px;\n  overflow: hidden;\n  border-radius: 1rem;\n  box-shadow: 0 0 10px rgba(0, 0, 0, 0.1);\n}\n.carrusel-imagen {\n  width: 100%;\n  height: 100%;\n  object-fit: fill;\n}\n@media (max-width: 768px) {\n  .carrusel-contenedor {\n    height: 250px;\n  }\n  .formulario {\n    padding: 1rem;\n  }\n}\n.formulario {\n  background-color: var(--clr-white);\n  padding: 2rem;\n  border-radius: 1rem;\n  max-width: 500px;\n  margin: auto;\n  display: flex;\n  flex-direction: column;\n  gap: 1rem;\n  box-shadow: 0 0 10px rgba(0, 0, 0, 0.1);\n}\n.formulario form label {\n  font-weight: 500;\n  color: var(--clr-blue);\n  margin-bottom: 0.25rem;\n}\n.formulario input[type=text],\n.formulario input[type=email],\n.formulario input[type=password],\n.formulario input[type=tel],\n.formulario input[type=date] {\n  padding: 0.5rem;\n  border-radius: 0.5rem;\n  border: 2px solid var(--clr-ligth_blue);\n  width: 100%;\n  transition: border-color 0.3s;\n}\n.formulario input:focus {\n  outline: none;\n  border-color: var(--clr-green);\n}\n.formulario button[type=submit] {\n  padding: 0.75rem;\n  border-radius: 2rem;\n  border: none;\n  background-color: var(--clr-green);\n  color: var(--clr-white);\n  font-weight: 600;\n  text-transform: uppercase;\n  cursor: pointer;\n  transition: background-color 0.3s;\n}\n.formulario button:hover {\n  background-color: var(--clr-blue);\n}\n.formulario input[type=checkbox] {\n  margin-right: 0.5rem;\n}\n.btn-success {\n  background-color: var(--clr-green);\n  border: none;\n}\n.btn-success:hover {\n  background-color: var(--clr-ligth_green);\n  color: var(--clr-white);\n}\n/*# sourceMappingURL=login-form.css.map */\n", "import { CommonModule } from '@angular/common';\r\nimport { Component, ElementRef, OnInit } from '@angular/core';\r\nimport { NavigationEnd, Router, RouterLink, RouterOutlet } from '@angular/router';\r\nimport { ReactiveFormsModule, FormBuilder, FormGroup, Validators } from '@angular/forms';\r\ndeclare var bootstrap: any;\r\n\r\n\r\n\r\n\r\n@Component({\r\n  selector: 'app-login-form',\r\n  standalone: true,\r\n  imports: [RouterLink, CommonModule, ReactiveFormsModule ],\r\n  templateUrl: './login-form.html',\r\n  styleUrl: './login-form.scss'\r\n})\r\nexport class LoginForm implements OnInit{\r\n  \r\n  isLoggedIn = false;  \r\n  loginForm!: FormGroup;\r\n  usuarios: any[] = [];\r\n\r\n  constructor(private fb: FormBuilder, private router: Router, private el: ElementRef){\r\n\r\n    if(typeof localStorage !== 'undefined') {\r\n      const usuariosGuardados = localStorage.getItem('usuarios');\r\n      this.usuarios = usuariosGuardados ? JSON.parse(usuariosGuardados) : [];\r\n    }\r\n  }\r\n    ngOnInit() {\r\n      this.loginForm = this.fb.group({\r\n        emailOrUsername: ['',Validators.required],\r\n        password: ['',Validators.required]\r\n      });\r\n    } \r\n\r\n    iniciarSesion(emailOrUsername: string, password: string): boolean{\r\n      const usuario = this.usuarios.find(user=>(user.email=== emailOrUsername || user.username === emailOrUsername) && user.password === password);\r\n      if(usuario) {\r\n        this.showToast('Inicio de sesion exitoso' , 'success')\r\n        this.router.navigate(['/home']);\r\n        return true;\r\n      }\r\n      else {\r\n        this.showToast('Email/Usuario O contraseña incorrecta.','danger');\r\n        return false;\r\n      }\r\n    }\r\n\r\n    onSubmit() {\r\n    if (this.loginForm.valid) {\r\n      const emailOrUsernameControl = this.loginForm.get('emailOrUsername');\r\n      const passwordControl = this.loginForm.get('password');\r\n      \r\n      if (emailOrUsernameControl && passwordControl) {\r\n        const emailOrUsername = emailOrUsernameControl.value;\r\n        const password = passwordControl.value;\r\n\r\n\r\n        const inicioExitoso = this.iniciarSesion(emailOrUsername, password);\r\n        if (inicioExitoso) {\r\n          this.loginForm.reset();\r\n        }\r\n      } else {\r\n        console.error('Form controls are missing');\r\n        this.showToast('Formulario no válido.', 'danger');\r\n      }\r\n    } else {\r\n      this.showToast('Formulario no válido.', 'danger');\r\n    }\r\n  }\r\n\r\n  navigateToRegister() {\r\n    this.router.navigateByUrl('/registro').then(() => {\r\n      window.location.reload();\r\n    });\r\n  }\r\n\r\n  showToast(message: string, type: 'success' | 'danger') {\r\n    const toastContainer = this.el.nativeElement.querySelector('#toast-container');\r\n    const toastElement = document.createElement('div');\r\n    toastElement.className = `toast align-items-center text-bg-${type} border-0`;\r\n    toastElement.role = 'alert';\r\n    toastElement.ariaLive = 'assertive';\r\n    toastElement.ariaAtomic = 'true';\r\n    toastElement.innerHTML = `\r\n      <div class=\"d-flex\">\r\n        <div class=\"toast-body\">\r\n          ${message}\r\n        </div>\r\n        <button type=\"button\" class=\"btn-close btn-close-white me-2 m-auto\" data-bs-dismiss=\"toast\" aria-label=\"Close\"></button>\r\n      </div>\r\n    `;\r\n    toastContainer.appendChild(toastElement);\r\n\r\n    const toastBootstrap = new bootstrap.Toast(toastElement);\r\n    toastBootstrap.show();\r\n\r\n    setTimeout(() => {\r\n      toastBootstrap.hide();\r\n      toastElement.remove();\r\n    }, 3000);\r\n  }\r\n\r\n  \r\n}\r\n\r\n\r\n"],
  "mappings": ";;;;;;;;;;;;;;;;;;;;;;;;;;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;;;ACAA,IAAAA;AAAA,IAAAC,mBAAA;AAAA;AAAA,IAAAD,sBAAA;AAAA;AAAA;;;ICgBa;;;;;;;AAhBb;AACA;AACA;AACA;AAaO,IAAM,YAAN,MAAME,WAAS;MAMA;MAAyB;MAAwB;MAJrE,aAAa;MACb;MACA,WAAkB,CAAA;MAElB,YAAoB,IAAyB,QAAwB,IAAc;AAA/D,aAAA,KAAA;AAAyB,aAAA,SAAA;AAAwB,aAAA,KAAA;AAEnE,YAAG,OAAO,iBAAiB,aAAa;AACtC,gBAAM,oBAAoB,aAAa,QAAQ,UAAU;AACzD,eAAK,WAAW,oBAAoB,KAAK,MAAM,iBAAiB,IAAI,CAAA;QACtE;MACF;MACE,WAAQ;AACN,aAAK,YAAY,KAAK,GAAG,MAAM;UAC7B,iBAAiB,CAAC,IAAG,WAAW,QAAQ;UACxC,UAAU,CAAC,IAAG,WAAW,QAAQ;SAClC;MACH;MAEA,cAAc,iBAAyB,UAAgB;AACrD,cAAM,UAAU,KAAK,SAAS,KAAK,WAAO,KAAK,UAAS,mBAAmB,KAAK,aAAa,oBAAoB,KAAK,aAAa,QAAQ;AAC3I,YAAG,SAAS;AACV,eAAK,UAAU,4BAA6B,SAAS;AACrD,eAAK,OAAO,SAAS,CAAC,OAAO,CAAC;AAC9B,iBAAO;QACT,OACK;AACH,eAAK,UAAU,6CAAyC,QAAQ;AAChE,iBAAO;QACT;MACF;MAEA,WAAQ;AACR,YAAI,KAAK,UAAU,OAAO;AACxB,gBAAM,yBAAyB,KAAK,UAAU,IAAI,iBAAiB;AACnE,gBAAM,kBAAkB,KAAK,UAAU,IAAI,UAAU;AAErD,cAAI,0BAA0B,iBAAiB;AAC7C,kBAAM,kBAAkB,uBAAuB;AAC/C,kBAAM,WAAW,gBAAgB;AAGjC,kBAAM,gBAAgB,KAAK,cAAc,iBAAiB,QAAQ;AAClE,gBAAI,eAAe;AACjB,mBAAK,UAAU,MAAK;YACtB;UACF,OAAO;AACL,oBAAQ,MAAM,2BAA2B;AACzC,iBAAK,UAAU,4BAAyB,QAAQ;UAClD;QACF,OAAO;AACL,eAAK,UAAU,4BAAyB,QAAQ;QAClD;MACF;MAEA,qBAAkB;AAChB,aAAK,OAAO,cAAc,WAAW,EAAE,KAAK,MAAK;AAC/C,iBAAO,SAAS,OAAM;QACxB,CAAC;MACH;MAEA,UAAU,SAAiB,MAA0B;AACnD,cAAM,iBAAiB,KAAK,GAAG,cAAc,cAAc,kBAAkB;AAC7E,cAAM,eAAe,SAAS,cAAc,KAAK;AACjD,qBAAa,YAAY,oCAAoC,IAAI;AACjE,qBAAa,OAAO;AACpB,qBAAa,WAAW;AACxB,qBAAa,aAAa;AAC1B,qBAAa,YAAY;;;YAGjB,OAAO;;;;;AAKf,uBAAe,YAAY,YAAY;AAEvC,cAAM,iBAAiB,IAAI,UAAU,MAAM,YAAY;AACvD,uBAAe,KAAI;AAEnB,mBAAW,MAAK;AACd,yBAAe,KAAI;AACnB,uBAAa,OAAM;QACrB,GAAG,GAAI;MACT;;;;;;;AAtFW,gBAAS,WAAA;MAPrB,UAAU;QACT,UAAU;QACV,YAAY;QACZ,SAAS,CAAC,YAAY,cAAc,mBAAmB;QACvD,UAAA;;OAED;OACY,SAAS;;;",
  "names": ["login_form_default", "init_login_form", "LoginForm"]
}
